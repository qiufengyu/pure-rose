<mat-card>
  <mat-card-header>
    <mat-card-title> {{ pageTitle }}</mat-card-title>
  </mat-card-header>

  <mat-card-content *ngIf="products$ | async as products">
    <mat-list role="productList">
      <mat-list-item role="productList" *ngFor="let product of products">
        <button mat-button [ngClass]="product?.id === selectedProduct?.id ? 'mat-raised-button' : 'mat-stroked-button'"
                           [color]="product?.id === selectedProduct?.id ? 'primary' : null"
                           (click)="productSelected(product)">
          {{ product.productName }}
          <ng-container *ngIf="displayCode">
            ({{ product.productCode }})
          </ng-container>
        </button>
      </mat-list-item>
    </mat-list>
  </mat-card-content>

  <mat-divider></mat-divider>

  <mat-card-actions>
    <div *ngIf="errorMessage$ | async as errorMessage" color="primary"> Error: {{ errorMessage }} </div>
    <mat-checkbox [(ngModel)]="displayCode" (ngModelChange)="checkChanged()"> Display Product Code </mat-checkbox>
    <div class="action-button"><button mat-raised-button color="primary" (click)="newProduct()"> Add </button></div>
  </mat-card-actions>
</mat-card>


